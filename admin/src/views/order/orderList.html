<!-- #section:basics/content.breadcrumbs -->
<div class="breadcrumbs" id="breadcrumbs">
    <script type="text/javascript">
        try {
            ace.settings.check('breadcrumbs', 'fixed')
        } catch (e) {}
    </script>

    <ul class="breadcrumb">
        <li>
            <i class="ace-icon fa fa-home home-icon"></i>
            <a href="#">首页</a>
        </li>
        <li class="active">订单</li>
    </ul>
    <!-- /.breadcrumb -->
</div>

<!-- /section:basics/content.breadcrumbs -->
<div class="page-content">
    <bread-crumb title="首页" sub-title="订单列表"></bread-crumb>
    <!-- /.page-header -->
    <div class="page-header">
        <a ui-sref="index.addArticleCate" class="btn btn-primary">添加订单</a>
    </div>
    <!-- /.page-header -->

    <div class="row" ng-controller="orderListCtrl">
        <div class="col-xs-12">
            <table id="simple-table" class="table table-striped table-bordered table-hover ">
                <thead>
                <tr>
                    <th class="center" style="width:25px;">
                        <label class="pos-rel">
                            <input type="checkbox" class="ace" />
                            <span class="lbl"></span>
                        </label>
                    </th>
                    <th>订单编号</th>
                    <th>订单类型</th>
                    <th>订单对象</th>
                    <th>下单时间</th>
                    <th>订单金额</th>
                    <th>已付金额</th>
                    <th>订单状态</th>
                    <th>操作</th>
                </tr>
                </thead>

                <tbody>
                <tr ng-repeat="item in orderList track by $index">
                    <td class="center">
                        <label class="pos-rel">
                            <input type="checkbox" class="ace" />
                            <span class="lbl"></span>
                        </label>
                    </td>
                    <td align="center">{{item.orderId}}</td>
                    <td align="center">{{item.type}}</td>
                    <td align="center">{{item.buyerName}}</td>
                    <td align="center">{{item.addTime/1000 | date:'yyyy-MM-dd HH:mm:ss'}}</td>
                    <td align="center">{{item.orderAmount | currency:'¥'}}</td>
                    <td align="center">{{item.payAmount | currency:'¥'}}</td>
                    <td align="center">{{item.status | orderList_state}}</td>

                    <td class="hidden-480" align="center">
                        <a ui-sref="index.orderDetail({id:item.orderId})">查看</a>
                    </td>
                </tr>
                </tbody>
            </table>

        </div>

        <div class="col-xs-12 text-center">
            <ul class="pagination" ng-show="pageCount >= 20">
                <li ui-sref="index.orderList({})"><a >前一页</a></li>
                <li ng-class="{'active':true}" ><a ui-sref="index.orderList({page:$index+1})" >{{$index+1}}</a></li>
                <li ui-sref="index.productList({})"><a ng-click="">后一页</a></li>
            </ul>
        </div>

    </div>
    <!-- /.col -->

    <!-- /.col -->
</div>
<!-- /.row -->
</div>
<!-- /.page-content -->

<script type="text/javascript">
    //And for the first simple table, which doesn't have TableTools or dataTables
    //select/deselect all rows according to table header checkbox
    var active_class = 'active';
    $('#simple-table > thead > tr > th input[type=checkbox]').eq(0).on('click', function(){
        var th_checked = this.checked;//checkbox inside "TH" table header
        $(this).closest('table').find('tbody > tr').each(function(){
            var row = this;
            if(th_checked) $(row).addClass(active_class).find('input[type=checkbox]').eq(0).prop('checked', true);
            else $(row).removeClass(active_class).find('input[type=checkbox]').eq(0).prop('checked', false);
        });
    });

    //select/deselect a row when the checkbox is checked/unchecked
    $('#simple-table').on('click', 'td input[type=checkbox]' , function(){
        var $row = $(this).closest('tr');
        if(this.checked) $row.addClass(active_class);
        else $row.removeClass(active_class);
    });
</script>
