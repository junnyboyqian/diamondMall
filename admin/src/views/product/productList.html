<!-- #section:basics/content.breadcrumbs -->
<div class="breadcrumbs" id="breadcrumbs">
    <script type="text/javascript">
        try {
            ace.settings.check('breadcrumbs', 'fixed')
        } catch (e) {}
    </script>

    <ul class="breadcrumb">
        <li>
            <i class="ace-icon fa fa-home home-icon"></i>
            <a href="#">首页</a>
        </li>
        <li class="active">产品</li>
    </ul>
    <!-- /.breadcrumb -->
</div>

<!-- /section:basics/content.breadcrumbs -->
<div class="page-content" ng-controller="productListCtrl">
    <div class="page-header">
        <h1>
                        产品
                        <small>
                            <i class="ace-icon fa fa-angle-double-right"></i>
                            产品列表
                        </small>
                    </h1>
    </div>
    <!-- /.page-header -->
    <div class="page-header">
        <a ui-sref="index.addProduct" class="btn btn-primary">添加产品</a>
    </div>
    <!-- /.page-header -->
    <div class="row">
        <div class="col-xs-12">
            <table id="simple-table" class="table table-striped table-bordered table-hover">
                <thead>
                    <tr>
						<th class="center">
							<label class="pos-rel">
								<input type="checkbox" class="ace" />
								<span class="lbl"></span>
							</label>
						</th>
                        <th>产品ID</th>
                        <th>产品编号</th>
                        <th>产品名称</th>
                        <th>产品类别</th>
                        <th>首页展示</th>
                        <th>上架状态</th>
                        <th>销售价格</th>
                        <th>产品价格</th>
                        <th>产品库存</th>
                        <th class="hidden-480">操作</th>
                    </tr>
                </thead>

                <tbody>
                    <tr ng-repeat="item in goodsList track by $index">
						<td class="center">
							<label class="pos-rel">
								<input type="checkbox" class="ace" />
								<span class="lbl"></span>
							</label>
						</td>
                        <td align="center">{{item.goodsId}}</td>
                        <td align="center">{{item.goodsSn}}</td>
                        <td align="center">{{item.goodsName}}</td>
                        <td align="center">{{item.gtype | productList_gtype}}</td>
                        <td align="center">{{item.ifShow ? '是':'否'}}</td>
                        <td align="center">{{item.indexShow ? '已上架':'未上架'}}</td>
                        <td align="center">{{item.price | currency:'￥'}}</td>
                        <td align="center">{{item.refprice | currency:'￥'}}</td>
                        <td align="center">1</td>
                        <td class="hidden-480" align="center">
                            <a ui-sref="index.productInfo({id:item.goodsId})">编辑</a>
                            <span>无权修改</span>
                        </td>
                    </tr>
                </tbody>
            </table>


        </div>
        <!-- /.col -->
        <div class="col-xs-12 text-center">
            <ul class="pagination">
                <li ui-sref="index.productList({page:currentPage>1?currentPage-1:1})"><a >前一页</a></li>
                <li ng-class="{'active':$index+1 === currentPage}" ng-repeat="(k,v) in goodsPageList track by $index"><a ui-sref="index.productList({page:$index+1})" >{{$index+1}}</a></li>
                <li ui-sref="index.productList({page:currentPage<pageCount?currentPage+1:pageCount})"><a ng-click="">后一页</a></li>
            </ul>
        </div>
    </div>
    <!-- /.row -->
</div>
<!-- /.page-content -->

<script type="text/javascript">

	//And for the first simple table, which doesn't have TableTools or dataTables
	//select/deselect all rows according to table header checkbox
	var active_class = 'active';
	$('#simple-table > thead > tr > th input[type=checkbox]').eq(0).on('click', function(){
		var th_checked = this.checked;//checkbox inside "TH" table header

		$(this).closest('table').find('tbody > tr').each(function(){
			var row = this;
			if(th_checked) $(row).addClass(active_class).find('input[type=checkbox]').eq(0).prop('checked', true);
			else $(row).removeClass(active_class).find('input[type=checkbox]').eq(0).prop('checked', false);
		});
	});

	//select/deselect a row when the checkbox is checked/unchecked
	$('#simple-table').on('click', 'td input[type=checkbox]' , function(){
		var $row = $(this).closest('tr');
		if(this.checked) $row.addClass(active_class);
		else $row.removeClass(active_class);
	});

</script>
